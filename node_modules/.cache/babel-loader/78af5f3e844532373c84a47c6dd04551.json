{"ast":null,"code":"var _jsxFileName = \"/Users/lakshaygoyal/Desktop/react2-alpha-lakshaygoyal 2/src/Recommender.js\";\nimport React from 'react';\nimport './App.css';\nimport RecommendedCourse from './RecommendedCourse';\n\nclass Recommender extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      recommendedCourses: [] // this.rating = React.createRef();\n\n    };\n  }\n\n  getInterests(data) {\n    let interests = [];\n    interests.push(\"All\");\n\n    for (let i = 0; i < data.length; i++) {\n      data[i].keywords.forEach(keyword => {\n        if (interests.indexOf(keyword) === -1) interests.push(keyword);\n      });\n      if (interests.indexOf(data[i].subject) === -1) interests.push(data[i].subject);\n    }\n\n    return interests;\n  }\n\n  showCourses(courses) {\n    let temp = [];\n    courses.forEach(course => {\n      temp.push(React.createElement(RecommendedCourse, {\n        data: course,\n        interest: course.interest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }));\n    });\n    return temp;\n  }\n\n  courseInCompletedCourses(data) {\n    let completedCourses = this.props.completedCourses;\n\n    for (let i = 0; i < completedCourses.length; i++) {\n      if (completedCourses[i].name === data.name) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  courseInRecommended(course, recommended) {\n    for (let i = 0; i < recommended.length; i++) {\n      if (recommended[i].name === course.name) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  getRecommended() {\n    let tempRecommended = [];\n    let ratedCourses = this.props.ratedCourses;\n    let allCourses = this.props.allCourses;\n    let completedCourses = this.props.compleletedCoursesData;\n    let interestsAreas = [];\n    ratedCourses = ratedCourses.filter(course => {\n      if (course.rating !== \"No Rating\" && course.rating > 2) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    console.log(ratedCourses);\n    ratedCourses.sort((x, y) => y.rating - x.rating);\n    console.log(ratedCourses);\n\n    for (let i = 0; i < ratedCourses.length; i++) {\n      //find interest areas\n      let interests = [];\n      interests = this.getInterests(ratedCourses[i]); //find courses with same interest areas\n\n      interests.forEach(interest => {\n        allCourses.forEach(course => {\n          //find interests of selected courses\n          let courseInterests = [];\n          courseInterests = this.getInterests(course); // if Rated course interest matches course interest\n\n          if (courseInterests.indexOf(interest) === -1) {\n            console.log(\"1\");\n          } else {\n            //check if course is in CompletedCourses\n            if (!this.courseInCompletedCourses(course) && !this.courseInRecommended(course, tempRecommended)) {\n              //check if course is already there in recommended\n              course.interest = interest;\n              tempRecommended.push(course);\n            }\n          }\n        });\n      });\n    }\n\n    let temp = this.showCourses(tempRecommended);\n    return temp; //    ratedCourses.forEach((course) => interestsAreas.push(this.getInterests(course)));\n    //    //let temp=[];\n    //    allCourses.forEach((course)=>\n    //    {\n    //      let interests = this.getInterests(course);\n    //      if(interestsAreas.indexOf(course.subject)!== -1 && completedCourses.indexOf(course.number) === -1){\n    //         recommendedCoursesTemp.push(course);\n    //      }\n    //      interests.forEach((interest)=>{if(interestsAreas.indexOf(interest) !== -1 && completedCourses.indexOf(course.number) === -1){recommendedCoursesTemp.push(course);}})\n    //    })\n    //     if(this.state.recommendedCourses !== recommendedCoursesTemp){\n    //        this.setState({recommendedCourses:recommendedCoursesTemp})\n    //     }rec\n    //    console.log(recommendedCoursesTemp);\n    //    return recommendedCoursesTemp;\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, this.getRecommended());\n  }\n\n}\n\nexport default Recommender;","map":{"version":3,"sources":["/Users/lakshaygoyal/Desktop/react2-alpha-lakshaygoyal 2/src/Recommender.js"],"names":["React","RecommendedCourse","Recommender","Component","constructor","props","state","recommendedCourses","getInterests","data","interests","push","i","length","keywords","forEach","keyword","indexOf","subject","showCourses","courses","temp","course","interest","courseInCompletedCourses","completedCourses","name","courseInRecommended","recommended","getRecommended","tempRecommended","ratedCourses","allCourses","compleletedCoursesData","interestsAreas","filter","rating","console","log","sort","x","y","courseInterests","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport RecommendedCourse from'./RecommendedCourse';\n\nclass Recommender extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      recommendedCourses:[],\n    }\n    // this.rating = React.createRef();\n  }\n\n  getInterests(data){\n    let interests = [];\n    interests.push(\"All\");\n\n    for(let i=0; i < data.length; i++){\n      data[i].keywords.forEach((keyword) => {\n        if(interests.indexOf(keyword) === -1)\n          interests.push(keyword);\n        })\n        if(interests.indexOf(data[i].subject) === -1)\n          interests.push(data[i].subject);\n      \n    }\n    \n    return interests;\n\n  }\n  showCourses(courses){\n    let temp = []\n    courses.forEach((course) => {\n      temp.push(<RecommendedCourse data={course} interest={course.interest}/>)\n    });\n    return temp\n  }\n  courseInCompletedCourses(data){\n    let completedCourses = this.props.completedCourses\n    for(let i =0;i<completedCourses.length;i++){\n      if(completedCourses[i].name === data.name){\n        return true\n      }\n    }\n    return false\n  }\n  courseInRecommended(course,recommended){\n    for(let i =0;i<recommended.length;i++){\n      if(recommended[i].name === course.name){\n        return true\n      }\n    }\n    return false\n  }\n\n    getRecommended(){\n           let tempRecommended=[];\n           let ratedCourses= this.props.ratedCourses;\n           let allCourses = this.props.allCourses;\n           let completedCourses = this.props.compleletedCoursesData;\n           let interestsAreas = [];\n    \n           ratedCourses= ratedCourses.filter((course)=> {\n             if(course.rating !==\"No Rating\" && course.rating > 2)\n             {return true;}\n             else\n             {return false;}});\n             console.log(ratedCourses);\n           ratedCourses.sort((x,y)=> y.rating-x.rating);\n           console.log(ratedCourses);\n\n           for(let i=0;i<ratedCourses.length;i++){\n            //find interest areas\n            let interests = []\n            interests = this.getInterests(ratedCourses[i])\n        \n            //find courses with same interest areas\n            interests.forEach((interest) => {\n              allCourses.forEach((course) => {\n        \n                //find interests of selected courses\n                let courseInterests = []\n                courseInterests = this.getInterests(course)\n                // if Rated course interest matches course interest\n                  if(courseInterests.indexOf(interest)=== -1){\n                    console.log(\"1\")\n                  }\n                  else{\n                    //check if course is in CompletedCourses\n                    if(!this.courseInCompletedCourses(course)&&!this.courseInRecommended(course,tempRecommended)){\n                        //check if course is already there in recommended\n                        course.interest = interest\n                      tempRecommended.push(course)\n        \n                    }\n                  }\n              });\n        \n            });\n        \n          }let temp =   this.showCourses(tempRecommended)\n          return temp\n          \n           \n        //    ratedCourses.forEach((course) => interestsAreas.push(this.getInterests(course)));\n        //    //let temp=[];\n        //    allCourses.forEach((course)=>\n        //    {\n        //      let interests = this.getInterests(course);\n        //      if(interestsAreas.indexOf(course.subject)!== -1 && completedCourses.indexOf(course.number) === -1){\n        //         recommendedCoursesTemp.push(course);\n        //      }\n        //      interests.forEach((interest)=>{if(interestsAreas.indexOf(interest) !== -1 && completedCourses.indexOf(course.number) === -1){recommendedCoursesTemp.push(course);}})\n             \n        //    })\n        //     if(this.state.recommendedCourses !== recommendedCoursesTemp){\n        //        this.setState({recommendedCourses:recommendedCoursesTemp})\n        //     }rec\n           \n        //    console.log(recommendedCoursesTemp);\n    \n        //    return recommendedCoursesTemp;\n    \n    }\n  \nrender(){\n    return(\n        <>\n        {this.getRecommended()}\n        </>\n\n    )\n}\n\n}\nexport default Recommender;"]},"metadata":{},"sourceType":"module"}